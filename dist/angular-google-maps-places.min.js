!function(){"use strict";function a(a){var b={center:{lat:"undefined"!=typeof a.ltn?parseFloat(a.ltn):-25.363882,lng:"undefined"!=typeof a.lng?parseFloat(a.lng):131.044922},zoom:"undefined"!=typeof a.zoom?Number(a.zoom):8};this.mapOptions=b}function b(){return{restrict:"EA",replace:!0,transclude:!0,template:'<div id="map-canvas"></div>',link:function(b,c,d){var e=new a(d);e.simpleMap()}}}function c(){return{restrict:"EA",replace:!0,transclude:!0,template:'<div id="map-canvas"></div>',link:function(b,c,d){var e=new a(d);e.markerMap(d)}}}function d(){return{restrict:"EA",replace:!0,transclude:!0,template:'<div><input id="pac-input" class="controls" type="text" placeholder="{{placeholder}}" /><div id="map-canvas"></div></div>',link:function(b,c,d){b.placeholder="undefined"!=typeof d.placeholder?d.placeholder:"Enter a location";var e=new a(d);e.placesMap(b,d)}}}a.prototype.simpleMap=function(){var a=this;return new google.maps.Map(document.getElementById("map-canvas"),a.mapOptions)},a.prototype.markerMap=function(a){var b=this,c=new google.maps.Map(document.getElementById("map-canvas"),b.mapOptions);if("undefined"!==a.markerltn&&"undefined"!==a.markerlng){var d="undefined"!==a.markerltn?parseFloat(a.markerltn):-25.363882,e="undefined"!==a.markerlng?parseFloat(a.markerlng):131.044922,f=new google.maps.LatLng(d,e),g=new google.maps.Marker({position:f,map:c,draggable:"true"===a.markerdraggable?!0:!1,title:"undefined"!==a.markertitle?a.markertitle:null});g.setMap(c)}return c},a.prototype.reverseGeocoding=function(a,b){var c=new google.maps.Geocoder;c.geocode({latLng:b},function(b,c){return c===google.maps.GeocoderStatus.OK?b?a.$emit("reverseGeocodingEnd:done",b):a.$emit("reverseGeocodingEnd:error","NO RESULTS"):a.$emit("reverseGeocodingEnd:error",c)})},a.prototype.placesMap=function(a,b){var c=this,d=new google.maps.Map(document.getElementById("map-canvas"),c.mapOptions),e=document.getElementById("pac-input"),f=document.getElementById("type-selector");d.controls[google.maps.ControlPosition.TOP_LEFT].push(e),d.controls[google.maps.ControlPosition.TOP_LEFT].push(f);var g=new google.maps.places.Autocomplete(e);g.bindTo("bounds",d);var h=new google.maps.InfoWindow,i={map:d,anchorPoint:new google.maps.Point(0,-29),draggable:"true"===b.markerdraggable?!0:!1},j="undefined"!==b.markerltn?parseFloat(b.markerltn):null,k="undefined"!==b.markerlng?parseFloat(b.markerlng):null;j&&k&&(i.position=new google.maps.LatLng(j,k));var l=new google.maps.Marker(i);return google.maps.event.addListener(l,"dragend",function(){var b=l.getPosition();d.setCenter(b),c.reverseGeocoding(a,b),a.$emit("markerDragEnd",{ltn:b.lat(),lng:b.lng(),position:b})}),google.maps.event.addListener(d,"center_changed",function(){var b=l.getPosition();a.$emit("centerChanged",b)}),google.maps.event.addListener(g,"place_changed",function(){h.close(),l.setVisible(!1);var b=g.getPlace();if(b.geometry){b.geometry.viewport?d.fitBounds(b.geometry.viewport):(d.setCenter(b.geometry.location),d.setZoom(17)),l.setIcon({url:b.icon,size:new google.maps.Size(71,71),origin:new google.maps.Point(0,0),anchor:new google.maps.Point(17,34),scaledSize:new google.maps.Size(35,35)}),l.setPosition(b.geometry.location),l.setVisible(!0);var c="";b.address_components&&(c=[b.address_components[0]&&b.address_components[0].short_name||"",b.address_components[1]&&b.address_components[1].short_name||"",b.address_components[2]&&b.address_components[2].short_name||""].join(" ")),a.$emit("placeChanged",{ltn:b.geometry.location.lat(),lng:b.geometry.location.lng(),place:b,position:b.geometry.location}),h.setContent("<div><strong>"+b.name+"</strong><br>"+c),h.open(d,l)}}),d},angular.module("le.google-maps-places",[]).directive("map",b).directive("placesmap",d).directive("markermap",c)}();
//# sourceMappingURL=angular-google-maps-places.min.js.map